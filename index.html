<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Bean Trust - Blockchain Traceability</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8B4513">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Coffee Bean Trust">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <button class="logo" id="logoBtn">
                <i class="fas fa-coffee"></i>
                <span>Coffee Bean Trust</span>
            </button>
            <div class="header-actions">
                <button class="search-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
                <button class="menu-btn" id="menuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation Menu -->
    <nav class="nav-menu" id="navMenu">
        <div class="nav-overlay" id="navOverlay"></div>
        <div class="nav-content">
            <div class="nav-header">
                <h3>Menu</h3>
                <button class="nav-close" id="navClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <ul class="nav-list">
                <li><a href="#" data-page="home" class="nav-link active">
                    <i class="fas fa-home"></i> Home
                </a></li>
                <li><a href="#" data-page="trace" class="nav-link">
                    <i class="fas fa-route"></i> Trace Console
                </a></li>
                <li><a href="#" data-page="analytics" class="nav-link">
                    <i class="fas fa-chart-bar"></i> Analytics
                </a></li>
                <li><a href="#" data-page="certifications" class="nav-link">
                    <i class="fas fa-certificate"></i> Certifications
                </a></li>
                <li><a href="#" data-page="carbon" class="nav-link">
                    <i class="fas fa-leaf"></i> Carbon Credits
                </a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <section class="page" id="homePage">
            <!-- Hero Section -->
            <div class="hero">
                <div class="hero-content">
                    <h1>Track Your Coffee's Journey</h1>
                    <p>From farm to cup, verify the authenticity and quality of your coffee beans with blockchain technology</p>
                    
                    <!-- Search Bar -->
                    <div class="search-container">
                        <div class="search-input-container">
                            <input type="text" id="batchSearchInput" placeholder="Enter batch ID or scan QR code">
                            <button class="search-submit" id="searchSubmit">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <div class="search-actions">
                            <div class="dropdown-wrapper">
                                <button class="dropdown-btn" id="batchDropdownBtn" type="button">
                                    <i class="fas fa-chevron-down"></i>
                                    Select Batch ID
                                </button>
                                <div class="dropdown-menu" id="batchDropdownMenu">
                                    <div class="dropdown-item" data-value="CB2024001234">CB2024001234 - Ethiopian Yirgacheffe</div>
                                    <div class="dropdown-item" data-value="CB2024005678">CB2024005678 - Colombian Supremo</div>
                                </div>
                            </div>
                            <button class="qr-scan-btn" id="qrScanBtn">
                                <i class="fas fa-qrcode"></i>
                                Scan QR
                            </button>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="coffee-animation">
                        <img src="assets/Cup_icon.svg" alt="Coffee Cup" style="width: 60px; height: 60px;">
                    </div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-number">125</div>
                    <div class="stat-label">Total Participants</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">75</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">82%</div>
                    <div class="stat-label">Traceable Products</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">245</div>
                    <div class="stat-label">Certified Facilities</div>
                </div>
            </div>

            <!-- Console Navigation -->
            <div class="console-navigation">
                <h2>Explore Consoles</h2>
                <div class="console-grid">
                    <div class="console-card" data-page="trace">
                        <div class="console-image">
                            <img src="assets/Trace.svg" alt="Trace Console">
                        </div>
                        <div class="console-icon">
                            <i class="fas fa-route"></i>
                        </div>
                        <h3>Trace Console</h3>
                        <p>Follow the complete journey of coffee beans from farm to cup</p>
                        <button class="console-btn">Explore Trace</button>
                    </div>
                    
                    <div class="console-card" data-page="analytics">
                        <div class="console-image">
                            <img src="assets/Analytics.svg" alt="Analytics Console">
                        </div>
                        <div class="console-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3>Analytics Console</h3>
                        <p>View supply chain metrics and performance insights</p>
                        <button class="console-btn">View Analytics</button>
                    </div>
                    
                    <div class="console-card" data-page="certifications">
                        <div class="console-image">
                            <img src="assets/Certificates.svg" alt="Certifications Console">
                        </div>
                        <div class="console-icon">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <h3>Certifications Console</h3>
                        <p>Verify organic, fair trade, and quality certifications</p>
                        <button class="console-btn">Check Certificates</button>
                    </div>
                    
                    <div class="console-card" data-page="carbon">
                        <div class="console-image">
                            <i class="fas fa-seedling carbon-credit-icon"></i>
                        </div>
                        <div class="console-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <h3>Carbon Credits Console</h3>
                        <p>Estimate carbon credits from sustainable coffee farming practices</p>
                        <button class="console-btn">Calculate Credits</button>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity">
                <h2>Recent Blockchain Activity</h2>
                <div class="activity-list" id="recentActivity">
                    <!-- Activities will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Trace Console Page -->
        <section class="page" id="tracePage" style="display: none;">
            <div class="page-header">
                <div class="page-header-image">
                    <img src="assets/Trace.svg" alt="Trace Console">
                </div>
                <h1>Trace Console</h1>
                <p>Track coffee beans through the supply chain</p>
            </div>

            <!-- Batch Search -->
            <div class="trace-search">
                <div class="search-input-container">
                    <input type="text" id="traceBatchInput" placeholder="Enter batch ID to trace">
                    <button class="search-submit" id="traceSearchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="search-actions">
                    <div class="dropdown-wrapper">
                        <button class="dropdown-btn" id="traceDropdownBtn" type="button">
                            <i class="fas fa-chevron-down"></i>
                            Select Batch ID
                        </button>
                        <div class="dropdown-menu" id="traceDropdownMenu">
                            <div class="dropdown-item" data-value="CB2024001234">CB2024001234 - Ethiopian Yirgacheffe</div>
                            <div class="dropdown-item" data-value="CB2024005678">CB2024005678 - Colombian Supremo</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Batch Details -->
            <div class="batch-details" id="batchDetails" style="display: none;">
                <!-- Batch info will be populated by JavaScript -->
            </div>

            <!-- Supply Chain Timeline -->
            <div class="timeline-container" id="timelineContainer" style="display: none;">
                <div class="timeline-header-image">
                    <img src="assets/Trace.svg" alt="Supply Chain Journey" style="width: 100%; max-width: 400px; height: auto; border-radius: var(--radius-lg); margin-bottom: var(--spacing-lg);">
                </div>
                <h3>Supply Chain Journey</h3>
                <div class="timeline" id="supplyChainTimeline">
                    <!-- Timeline will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Analytics Page -->
        <section class="page" id="analyticsPage" style="display: none;">
            <div class="page-header">
                <div class="page-header-image">
                    <img src="assets/Analytics.svg" alt="Analytics Console">
                </div>
                <h1>Analytics Console</h1>
                <p>Supply chain insights and performance metrics</p>
            </div>

            <!-- Analytics Grid -->
            <div class="analytics-grid">
                <!-- Key Metrics -->
                <div class="analytics-card">
                    <h3>Key Metrics</h3>
                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-value">125</div>
                            <div class="metric-label">Network Participants</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">75</div>
                            <div class="metric-label">Organization Users</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">82%</div>
                            <div class="metric-label">Traceable Products</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">245</div>
                            <div class="metric-label">Facilities</div>
                        </div>
                    </div>
                </div>

                <!-- Trace Usage Chart -->
                <div class="analytics-card">
                    <h3>Trace Usage</h3>
                    <canvas id="traceUsageChart"></canvas>
                </div>

                <!-- Daily User Activity -->
                <div class="analytics-card">
                    <h3>Daily User Activity</h3>
                    <canvas id="userActivityChart"></canvas>
                </div>

                <!-- Blockchain Events -->
                <div class="analytics-card">
                    <h3>Blockchain Events</h3>
                    <canvas id="blockchainEventsChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Certifications Page -->
        <section class="page" id="certificationsPage" style="display: none;">
            <div class="page-header">
                <div class="page-header-image">
                    <img src="assets/Certificates.svg" alt="Certifications Console">
                </div>
                <h1>Certifications Console</h1>
                <p>Verify and manage product certifications</p>
            </div>

            <!-- Certification Search -->
            <div class="cert-search">
                <div class="search-input-container">
                    <input type="text" id="certSearchInput" placeholder="Search by facility ID or certification">
                    <button class="search-submit" id="certSearchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="search-actions">
                    <div class="dropdown-wrapper">
                        <button class="dropdown-btn" id="certDropdownBtn" type="button">
                            <i class="fas fa-chevron-down"></i>
                            Select Facility ID
                        </button>
                        <div class="dropdown-menu" id="certDropdownMenu">
                            <div class="dropdown-item" data-value="1234567890">1234567890 - Kaldi Coffee Cooperative</div>
                            <div class="dropdown-item" data-value="9876543210">9876543210 - Los Naranjos Farm</div>
                            <div class="dropdown-item" data-value="5555666777">5555666777 - Artisan Roasters GmbH</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Certifications Grid -->
            <div class="certifications-grid" id="certificationsGrid">
                <!-- Certifications will be populated by JavaScript -->
            </div>
        </section>

        <!-- Carbon Credits Console Page -->
        <section class="page" id="carbonPage" style="display: none;">
            <div class="page-header">
                <div class="page-title">
                    <i class="fas fa-leaf carbon-credit-icon"></i>
                    <h1>Carbon Credits Console</h1>
                </div>
                <p class="page-subtitle">Estimate carbon credits generated from sustainable coffee farming practices</p>
            </div>

            <!-- Search Section -->
            <div class="search-section">
                <div class="search-container">
                    <div class="search-input-container">
                        <input type="text" id="carbonSearchInput" placeholder="Enter batch ID to calculate carbon credits">
                        <button class="search-submit" id="carbonSearchSubmit">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="search-actions">
                        <div class="dropdown-wrapper">
                            <button class="dropdown-btn" id="carbonDropdownBtn" type="button">
                                <i class="fas fa-chevron-down"></i>
                                Select Coffee Batch
                            </button>
                            <div class="dropdown-menu" id="carbonDropdownMenu">
                                <div class="dropdown-item" data-value="CB2024001234">CB2024001234 - Ethiopian Yirgacheffe</div>
                                <div class="dropdown-item" data-value="CB2024005678">CB2024005678 - Colombian Supremo</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Carbon Credit Calculator -->
            <div class="carbon-calculator" id="carbonCalculator" style="display: none;">
                <div class="calculator-header">
                    <h2>Carbon Credit Estimation</h2>
                    <div class="batch-info">
                        <span class="batch-id" id="carbonBatchId"></span>
                        <span class="batch-name" id="carbonBatchName"></span>
                    </div>
                </div>

                <div class="carbon-metrics">
                    <div class="metric-card co2-sequestered">
                        <div class="metric-icon">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="metric-content">
                            <h3>CO₂ Sequestered</h3>
                            <div class="metric-value" id="co2Sequestered">0</div>
                            <div class="metric-unit">tonnes CO₂</div>
                        </div>
                    </div>

                    <div class="metric-card carbon-credits">
                        <div class="metric-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Carbon Credits</h3>
                            <div class="metric-value" id="carbonCredits">0</div>
                            <div class="metric-unit">credits generated</div>
                        </div>
                    </div>

                    <div class="metric-card credit-value">
                        <div class="metric-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="metric-content">
                            <h3>Estimated Value</h3>
                            <div class="metric-value" id="creditValue">$0</div>
                            <div class="metric-unit">USD market value</div>
                        </div>
                    </div>
                </div>

                <!-- Farming Practices Impact -->
                <div class="practices-impact">
                    <h3>Sustainable Farming Practices Impact</h3>
                    <div class="practices-grid" id="practicesGrid">
                        <!-- Practices will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Calculation Details -->
                <div class="calculation-details">
                    <h3>Carbon Credit Calculation Methodology</h3>
                    <div class="calculation-grid" id="calculationGrid">
                        <!-- Calculation details will be populated by JavaScript -->
                    </div>
                    
                    <div class="calculation-formula">
                        <h4>Formula</h4>
                        <div class="formula-box">
                            <div class="formula-text">
                                <strong>Total Carbon Credits = Σ (Practice Impact × Area × Time Factor × Verification Factor)</strong>
                            </div>
                            <div class="formula-explanation">
                                Where each sustainable practice contributes based on its carbon sequestration potential, 
                                farm area coverage, implementation duration, and third-party verification status.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Carbon Timeline -->
                <div class="carbon-timeline">
                    <h3>Carbon Impact Timeline</h3>
                    <div class="timeline-container" id="carbonTimeline">
                        <!-- Timeline will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Batch Detail Modal -->
    <div class="modal" id="batchModal">
        <div class="modal-overlay" id="batchModalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Batch Details</h3>
                <button class="modal-close" id="batchModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="batchModalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Certificate Detail Modal -->
    <div class="modal" id="certModal">
        <div class="modal-overlay" id="certModalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Certificate Details</h3>
                <button class="modal-close" id="certModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="certModalBody">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-coffee fa-spin"></i>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <p>Real Matter Technology © 2025</p>
        </div>
    </footer>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>